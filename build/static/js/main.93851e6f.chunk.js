(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{145:function(e,t,a){e.exports=a(159)},150:function(e,t,a){},151:function(e,t,a){},159:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),o=a.n(c),i=(a(150),a(151),a(52)),l=a.n(i),m=a(79),u=a(32),s=a(45),p=a(122),d=a(123),g=a(102),h=a(58);function b(){var e=Object(g.a)(["\nmutation createGame($inputData: CreateGameData!) {\n\tcreateGame(inputData: $inputData){\n    id\n\t\tstatus\n    owner\n    conditions {\n      id\n      conditionType\n      conditionItem {\n        id\n        name_rus\n      }\n    }\n\t}\n}"]);return b=function(){return e},e}function f(){var e=Object(g.a)(["\nmutation getNounById($id: ID!) {\n\tgetNoun(id: $id){\n\t\tname_rus\n\t}\n}"]);return f=function(){return e},e}function E(){var e=Object(g.a)(["{\n\tgetMasterData(fandom: 1){\n\t\tcharacter{\n\t\t\tid\n\t\t\tname_rus\n      main\n\t\t}\n\t\tlocation{\n\t\t\tid\n\t\t\tname_rus\n\t\t}\n\t\tgenre{\n\t\t\tid\n\t\t\tname_rus\n\t\t}\n\t\traiting{\n\t\t\tid\n\t\t\tname_rus\n\t\t}\n\t\ttrop{\n\t\t\tid\n\t\t\tname_rus\n\t\t}\n    noun\n\t}\n}"]);return E=function(){return e},e}var O=Object(h.a)(E()),y=Object(h.a)(f()),v=(Object(h.a)(b()),a(194)),j=a(134),k=a(201),x=a(195),C=a(182),N=a(44),w=a(204),S=a(206),T=a(184),I=a(185),_=a(186),D=a(202),z=a(188),A=a(162),B=Object(C.a)((function(e){return{paper:{padding:e.spacing(5)},error:{backgroundColor:e.palette.secondary.main,marginBottom:e.spacing(2)},btn:{color:e.palette.primary.secondary}}})),F=function(e){var t=!0;return Object.keys(e).forEach((function(a){return t=t&&!e[a]})),t},M=function(e){var t=e.variant,a=e.gameOn,n=B(),c=r.a.useState({character:!0,genre:!0,location:!0,raiting:!0,trop:!0,noun:!1}),o=Object(s.a)(c,2),i=o[0],l=o[1],m=r.a.useState(!1),p=Object(s.a)(m,2),d=p[0],g=p[1];r.a.useEffect((function(){0===t&&(g(!1),l({character:!0,genre:!1,location:!1,raiting:!1,trop:!1,noun:!1})),1===t&&g(F(i))}),[t]);var h=function(e){l(Object(u.a)({},i,Object(N.a)({},e.target.name,e.target.checked))),F(Object(u.a)({},i,Object(N.a)({},e.target.name,e.target.checked)))?g(!0):g(!1)},b=r.a.createElement(w.a,{component:"fieldset",fullWidth:!0},r.a.createElement(S.a,{component:"legend"},"\u0432\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0438\u0433\u0440\u044b"),r.a.createElement(T.a,null,r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.character,onChange:h,name:"character",color:"primary"}),label:"\u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438"}),r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.location,onChange:h,name:"location",color:"primary"}),label:"\u043c\u0435\u0441\u0442\u043e"}),r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.raiting,onChange:h,name:"raiting",color:"primary"}),label:"\u0440\u0435\u0439\u0442\u0438\u043d\u0433"}),r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.genre,onChange:h,name:"genre",color:"primary"}),label:"\u0436\u0430\u043d\u0440"}),r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.trop,onChange:h,name:"trop",color:"primary"}),label:"\u0442\u0440\u043e\u043f"}),r.a.createElement(D.a,{title:"\u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0411\u0430\u0437\u0430 \u0441\u043b\u043e\u0432 - \u0410\u0413\u041e\u041d\u042c! \u0412 \u0441\u043c\u044b\u0441\u043b\u0435 \u043f\u043e\u043b\u043d\u044b\u0439 \u0441\u043b\u043e\u0432\u0430\u0440\u044c \u041e\u0436\u0435\u0433\u043e\u0432\u0430, \u0431\u0435\u0437 \u0448\u0443\u0442\u043e\u043a!",placement:"bottom-start"},r.a.createElement(I.a,{control:r.a.createElement(_.a,{checked:i.noun,onChange:h,name:"noun",color:"primary"}),label:"\u043a\u043b\u044e\u0447-\u0441\u043b\u043e\u0432\u043e"})))),f=r.a.createElement(z.a,{variant:"contained",color:"primary",onClick:function(){F(i)||a(i)},size:"large"},r.a.createElement(A.a,{variant:"h5",className:n.btn},"\u0418\u0433\u0440\u0430\u0442\u044c"));return r.a.createElement(j.a,{className:n.paper},d&&r.a.createElement(A.a,{variant:"body1",component:"p",color:"error",className:n.error},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u0435"),1===t&&b,f)},R=function(){return r.a.createElement("div",{className:"container text-center"},r.a.createElement("div",{className:"spinner-border",style:{position:"absolute",top:"50%",left:"50%",width:"3rem",height:"3rem"},role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},G=a(189),L=a(190),$=a(191),Q=a(192),W=a(193),J={character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",genre:"\u0416\u0430\u043d\u0440",raiting:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",trop:"\u0422\u0440\u043e\u043f",location:"\u041c\u0435\u0441\u0442\u043e",noun:"\u0421\u043b\u043e\u0432\u043e"},U=Object(C.a)((function(e){return{root:{paddingTop:e.spacing(5),paddingBottom:e.spacing(2)},card:{maxWidth:345,margin:"0 auto"},media:{height:140},title:{textAlign:"left"},condition:{textAlign:"right"}}})),q={character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",genre:"\u0416\u0430\u043d\u0440",raiting:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",trop:"\u0422\u0440\u043e\u043f",location:"\u041c\u0435\u0441\u0442\u043e",noun:"\u0421\u043b\u043e\u0432\u043e"},H=function(e){var t=e.results,a=e.back,n=U(),c=function(e){var t="";return Object.keys(e).forEach((function(a,n){t=t+J[a]+": "+e[a].map((function(e){return e.name_rus})).join(" \u0438 "),n!==e.length-1&&(t+="; ")})),"https://twitter.com/intent/tweet?text="+encodeURIComponent(t)+";hashtags=urgame;url="+encodeURIComponent("https://ur.a-gon.ru")}(t);return r.a.createElement("div",null,r.a.createElement(L.a,{className:n.card},r.a.createElement($.a,{className:n.media,image:"/images/card-header.png",title:"Contemplative Reptile",onClick:a}),r.a.createElement(Q.a,null,r.a.createElement(A.a,{gutterBottom:!0,variant:"h5",component:"h2"},"\u0412\u0430\u0448\u0430 \u0438\u0433\u0440\u0430"),r.a.createElement(G.a,{container:!0,spacing:1},Object.keys(t).map((function(e){return a=e,c=t[e],r.a.createElement(r.a.Fragment,{key:a},r.a.createElement(G.a,{item:!0,xs:4,className:n.title},r.a.createElement(A.a,{variant:"body1",component:"span",color:"primary",className:n.title},q[a])),r.a.createElement(G.a,{item:!0,xs:8,className:n.condition},r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"span"},c.map((function(e){return e.name_rus})).join(", "))));var a,c})))),r.a.createElement(W.a,null,r.a.createElement(z.a,{size:"small",color:"primary",href:c},"Tweet"),r.a.createElement(z.a,{size:"small",color:"primary",onClick:a},"\u0421\u044b\u0433\u0440\u0430\u0442\u044c \u0435\u0449\u0435"))))},P=Object(C.a)((function(e){return{paper:{padding:e.spacing(5)}}})),K=function(){var e=P();return r.a.createElement(j.a,{className:e.paper},r.a.createElement(A.a,{variant:"h5",component:"p",color:"primary"},"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430!"))},V=a(200),X=a(199),Y=a(203),Z=Object(C.a)((function(e){return{box:{padding:e.spacing(2)}}})),ee=function(e){var t=e.open,a=(e.handleClose,e.handleCancel),n=e.handleAgree,c=e.agreeText,o=e.disagreeText,i=e.checked,l=e.handleChangeSaveChoice,m=Z();return r.a.createElement(V.a,{open:t,onClose:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(X.a,{className:m.box},r.a.createElement(G.a,{container:!0,justify:"space-around"},r.a.createElement(G.a,{item:!0},r.a.createElement(z.a,{onClick:a,color:"primary"},o)),r.a.createElement(G.a,{item:!0},r.a.createElement(z.a,{onClick:n,color:"primary",autoFocus:!0},c))),r.a.createElement(I.a,{control:r.a.createElement(Y.a,{checked:i,onChange:l,color:"primary"}),label:"\u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c \u0432\u044b\u0431\u043e\u0440 \u043d\u0430 \u044d\u0442\u043e\u043c \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0435"})))},te=a(113),ae=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},ne=function(e,t){return"noun"!==t?e.length-1:e},re=function(e,t){return"character"!==t?e:[].concat(Object(te.a)(e),Object(te.a)(e.filter((function(e){return e.main}))))},ce=function(){var e=Object(m.a)(l.a.mark((function e(t,a,n){var r,c,o,i,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=re(t,a),c=ne(r,a),o=ae(0,c),"character"!==a){e.next=6;break}return i=ae(0,c),e.abrupt("return",Object(N.a)({},a,[r[o],r[i]]));case 6:if("noun"!==a){e.next=11;break}return e.next=9,n({variables:{id:o}});case 9:return m=e.sent,e.abrupt("return",Object(N.a)({},a,[m.data.getNoun]));case 11:return e.abrupt("return",Object(N.a)({},a,[r[o]]));case 12:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),oe=function(){var e=Object(m.a)(l.a.mark((function e(t,a,n){var r,c,o,i,m;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r={},c=0,o=Object.keys(a);case 2:if(!(c<o.length)){e.next=12;break}if(i=o[c],!a[i]){e.next=9;break}return e.next=7,ce(t[i],i,n);case 7:m=e.sent,r=Object(u.a)({},r,{},m);case 9:c++,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),ie=Object(C.a)((function(e){return{container:{marginTop:e.spacing(5),marginBottom:e.spacing(2)},tab:{fontSize:"1.2rem"}}})),le=function(e){var t=e.oldEnough,a=ie(),n=r.a.useState(0),c=Object(s.a)(n,2),o=c[0],i=c[1],g=r.a.useState({show:!1,results:{}}),h=Object(s.a)(g,2),b=h[0],f=h[1],E=r.a.useState({dialogOpen:!t,checked:!0}),C=Object(s.a)(E,2),N=C[0],w=C[1],S=r.a.useState(t),T=Object(s.a)(S,2),I=T[0],_=T[1],D=Object(p.a)(O),z=D.loading,A=D.error,B=D.data,F=Object(d.a)(y),G=Object(s.a)(F,2),L=G[0],$=G[1],Q=$.loading,W=$.error;if(z||Q)return r.a.createElement(R,null);if(A||W)return r.a.createElement(K,null);var J=B.getMasterData,U=function(){var e=Object(m.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(J,t,L);case 2:a=e.sent,Object.keys(a).map((function(e){return a[e].map((function(t){return{conditionType:e,conditionId:+t.id}}))})).flat(1),f(Object(u.a)({},a,{show:!0,results:a}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(v.a,{fixed:!0,className:a.container},N.dialogOpen&&r.a.createElement(ee,{open:N.dialogOpen,handleClose:function(){return w(Object(u.a)({},N,{dialogOpen:!1}))},handleCancel:function(){return w(Object(u.a)({},N,{dialogOpen:!1}))},checked:N.checked,handleChangeSaveChoice:function(){return w(Object(u.a)({},N,{checked:!N.checked}))},handleAgree:function(){N.checked&&localStorage.setItem("oe","true"),w(Object(u.a)({},N,{dialogOpen:!1})),_(!0)},agreeText:"\u041c\u043d\u0435 \u0435\u0441\u0442\u044c 18",disagreeText:"\u041c\u043d\u0435 \u043d\u0435\u0442 18"}),!b.show&&I&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{square:!0},r.a.createElement(k.a,{value:o,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)},variant:"fullWidth"},r.a.createElement(x.a,{label:"\u041f\u0440\u043e\u0441\u0442\u0430\u044f \u0438\u0433\u0440\u0430",className:a.tab}),r.a.createElement(x.a,{label:"\u0421\u043b\u043e\u0436\u043d\u0430\u044f \u0438\u0433\u0440\u0430",className:a.tab}),r.a.createElement(x.a,{label:"FAQ",disabled:!0,className:a.tab}))),r.a.createElement(M,{variant:o,gameOn:U})),b.show&&I&&r.a.createElement(H,{results:b.results,back:function(){return f({show:!1,results:{}})}}))},me=a(196),ue=a(197),se=a(163),pe=Object(C.a)((function(e){return{root:{backgroundColor:e.palette.primary.darklime},title:{color:e.palette.primary.secondary,fontFamily:"Oswald"},image:{width:"30px",height:"30px",marginRight:e.spacing(2)}}})),de=function(){var e=pe();return r.a.createElement(me.a,{position:"static",className:e.root},r.a.createElement(ue.a,null,r.a.createElement(se.a,{edge:"start",color:"inherit","aria-label":"menu",size:"medium"},r.a.createElement("img",{src:"/images/Nie4040lime.png",alt:"",className:e.image})),r.a.createElement(A.a,{variant:"h6",className:e.title},"\u041d\u0415\u0427\u0418\u0421\u0422\u0410\u042f \u042e\u0414\u041e\u041b\u042c")))},ge=function(){return r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"span"},"\xa9 a-gon.ru")};var he=function(){var e=localStorage.getItem("oe");return r.a.createElement("div",{className:"App"},r.a.createElement(de,null),r.a.createElement(le,{oldEnough:e||!1}),r.a.createElement(ge,null))},be=a(121),fe=a(198),Ee=a(131),Oe=a(112),ye=a.n(Oe),ve=a(130),je=a.n(ve),ke=a(129),xe=a.n(ke),Ce=Object(Ee.a)({palette:{primary:{main:ye.a[900],secondary:ye.a[100],darklime:"#0a0901"},secondary:{main:xe.a[900]},error:{main:je.a[500]}},typography:{fontFamily:"Roboto, Helvetica, sans-serif"}}),Ne=a(25),we=a(65),Se=a(84),Te=a(85),Ie=a(132),_e=Object(Ie.a)((function(e){var t=e.graphQLErrors,a=e.networkError;t&&t.map((function(e){var t=e.message,a=e.locations,n=e.path;e.extensions;console.log("[GraphQL error]: Message: ".concat(t,", Location: ").concat(a,", Path: ").concat(n))})),a&&console.log("[Network error]: ".concat(a))})),De=Ne.a.from([_e,new we.a({uri:"https://ur-back.ey.r.appspot.com"})]),ze=new Se.a({link:De,cache:new Te.a({freezeResults:!0}),connectToDevTools:!0});o.a.render(r.a.createElement(be.a,{client:ze},r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe.a,{theme:Ce},r.a.createElement(he,null)))),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.93851e6f.chunk.js.map